<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wiseye: wis.users.views Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wiseye
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewis.html">wis</a></li><li class="navelem"><a class="el" href="namespacewis_1_1users.html">users</a></li><li class="navelem"><a class="el" href="namespacewis_1_1users_1_1views.html">views</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">wis.users.views Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1197f2ef543cd45e76b475fd1b54221c"><td class="memItemLeft" align="right" valign="top">HttpResponse&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewis_1_1users_1_1views.html#a1197f2ef543cd45e76b475fd1b54221c">login_view</a> (request, *args, **kwargs)</td></tr>
<tr class="memdesc:a1197f2ef543cd45e76b475fd1b54221c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Login view.  <a href="namespacewis_1_1users_1_1views.html#a1197f2ef543cd45e76b475fd1b54221c">More...</a><br /></td></tr>
<tr class="separator:a1197f2ef543cd45e76b475fd1b54221c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d6e7d399c047af212250d905a9616b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewis_1_1users_1_1views.html#af9d6e7d399c047af212250d905a9616b">find_user_view</a> (request, *args, **kwargs)</td></tr>
<tr class="memdesc:af9d6e7d399c047af212250d905a9616b"><td class="mdescLeft">&#160;</td><td class="mdescRight">View used for recognizing face of the user.  <a href="namespacewis_1_1users_1_1views.html#af9d6e7d399c047af212250d905a9616b">More...</a><br /></td></tr>
<tr class="separator:af9d6e7d399c047af212250d905a9616b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7afbd2668ed99c9c8d50b2f2800c57"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewis_1_1users_1_1views.html#a9c7afbd2668ed99c9c8d50b2f2800c57">log_user_activity</a> (WSGIRequest request, *args, **kwargs)</td></tr>
<tr class="memdesc:a9c7afbd2668ed99c9c8d50b2f2800c57"><td class="mdescLeft">&#160;</td><td class="mdescRight">View for creating UserLog instance when user tries to or logs to the system.  <a href="namespacewis_1_1users_1_1views.html#a9c7afbd2668ed99c9c8d50b2f2800c57">More...</a><br /></td></tr>
<tr class="separator:a9c7afbd2668ed99c9c8d50b2f2800c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f4960e9895f6f454ef97c973f18bc1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewis_1_1users_1_1views.html#ac2f4960e9895f6f454ef97c973f18bc1">training_model_view</a> (request, *args, **kwargs)</td></tr>
<tr class="memdesc:ac2f4960e9895f6f454ef97c973f18bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">View used for training the model.  <a href="namespacewis_1_1users_1_1views.html#ac2f4960e9895f6f454ef97c973f18bc1">More...</a><br /></td></tr>
<tr class="separator:ac2f4960e9895f6f454ef97c973f18bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad9471a3bfc807fe37243c41a055bcd5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacewis_1_1users_1_1views.html#ad9471a3bfc807fe37243c41a055bcd5a">User</a> = get_user_model()</td></tr>
<tr class="separator:ad9471a3bfc807fe37243c41a055bcd5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af9d6e7d399c047af212250d905a9616b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9d6e7d399c047af212250d905a9616b">&#9670;&nbsp;</a></span>find_user_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def wis.users.views.find_user_view </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>View used for recognizing face of the user. </p>
<p>It gets the photo of the face from request instance and then calls detect_faces function which tells if the user is present in the system. If it's not or the model is not sure (there is less than 0.8 of probability) error is returned. Otherwise, it returns recognized user's uuid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request instance with user photo. </td></tr>
    <tr><td class="paramname">args</td><td></td></tr>
    <tr><td class="paramname">kwargs</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Json response in a form {"success": False} or {"success": True} </dd></dl>

</div>
</div>
<a id="a9c7afbd2668ed99c9c8d50b2f2800c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7afbd2668ed99c9c8d50b2f2800c57">&#9670;&nbsp;</a></span>log_user_activity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def wis.users.views.log_user_activity </td>
          <td>(</td>
          <td class="paramtype">WSGIRequest&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>View for creating UserLog instance when user tries to or logs to the system. </p>
<p>User_uuid and user password are sent with the request and then there is a check if they are matching. Then, appropriate log is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request instance. </td></tr>
    <tr><td class="paramname">args</td><td></td></tr>
    <tr><td class="paramname">kwargs</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Json response in a form {"success": False} or {"success": True} </dd></dl>

</div>
</div>
<a id="a1197f2ef543cd45e76b475fd1b54221c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1197f2ef543cd45e76b475fd1b54221c">&#9670;&nbsp;</a></span>login_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> HttpResponse wis.users.views.login_view </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Login view. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request instance. </td></tr>
    <tr><td class="paramname">args</td><td></td></tr>
    <tr><td class="paramname">kwargs</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Rendered template for login. </dd></dl>

</div>
</div>
<a id="ac2f4960e9895f6f454ef97c973f18bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f4960e9895f6f454ef97c973f18bc1">&#9670;&nbsp;</a></span>training_model_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def wis.users.views.training_model_view </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>View used for training the model. </p>
<p>It calls training_task which goes through every UserImage instance in the system and assigns to them user uuids. Then, SVC model is fitted to the data and pickled to model.pkl file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Request instance. </td></tr>
    <tr><td class="paramname">args</td><td></td></tr>
    <tr><td class="paramname">kwargs</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Json response with information about successfully finishing model training. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad9471a3bfc807fe37243c41a055bcd5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9471a3bfc807fe37243c41a055bcd5a">&#9670;&nbsp;</a></span>User</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wis.users.views.User = get_user_model()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
